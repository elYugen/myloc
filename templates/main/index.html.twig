{% extends 'base.html.twig' %}

{% block title %}{% if app.user %}Accueil{% else %} Location et emprunt de bien{% endif %}{% endblock %}

{% block body %}
{% if app.user %}
<style>
    .miniMenu {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: -10px;
        margin-bottom: 20px;
    }
    .card-img-container {
        width: 100%;
        height: 200px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .card-img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .card {
        height: 100%;
        width: 100%; 
        max-width: 300px;
    }

    .card-body {
        display: flex;
        flex-direction: column;
    }

    .card-text {
        flex-grow: 1;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }

    a {
        text-decoration:none;
    }
</style>

<div class="miniMenu">
    <p>Accueil</p>
</div>

<div class="container">
    <div class="row">
        {% for items in items %}
        <div class="col-md-3 mb-4">
            <div class="card h-100">
                <div class="card-img-container">
                    <img src="{{ asset('/uploads/') ~ items.image }}" class="card-img-top" alt="{{ items.name }}">
                </div>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ items.name }}</h5>
                    <h6>Catégorie : <a href="/categorie/{{ items.getCategory.id }}">{{ items.getCategory.name }}</a></h6>
                    <p class="card-text flex-grow-1">{{ items.description|raw }}</p>
                    <a href="{{ path('app_items_information', {id: items.id}) }}" class="btn btn-primary mt-auto">Voir plus</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% else %}
<div class="container my-5">
      <!-- Hero section -->
      <div class="text-center mb-4">
        <h1 class="display-5 fw-bold">Découvrez les avantages de MyLoc</h1>
        <p class="lead mb-4">
          MyLoc est une plateforme innovante qui facilite le prêt de biens matériels, offrant une solution économique, écologique et collaborative pour tous vos besoins.
        </p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
          <a href="{{ path('app_login')}}" type="button" class="btn btn-primary btn-lg px-4 gap-3">Commencer</a>
        </div>
      </div>

      <!-- Feature section -->
      <h2 class="pb-2 border-bottom">Pourquoi choisir MyLoc ?</h2>
      <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
        <div class="feature col">
          <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
            <svg class="bi" width="1em" height="1em"><use xlink:href="#collection"/></svg>
          </div>
          <h3 class="fs-2 text-body-emphasis">Économique</h3>
          <p>Économisez de l'argent en louant plutôt qu'en achetant des objets que vous n'utiliserez que rarement.</p>
        </div>
        <div class="feature col">
          <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
            <svg class="bi" width="1em" height="1em"><use xlink:href="#people-circle"/></svg>
          </div>
          <h3 class="fs-2 text-body-emphasis">Écologique</h3>
          <p>Contribuez à la réduction de la surproduction et du gaspillage en adoptant une démarche de partage.</p>
        </div>
        <div class="feature col">
          <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
            <svg class="bi" width="1em" height="1em"><use xlink:href="#toggles2"/></svg>
          </div>
          <h3 class="fs-2 text-body-emphasis">Flexible</h3>
          <p>Accédez à une grande variété de biens pour tous vos besoins, personnels ou professionnels.</p>
        </div>
      </div>

      <!-- Jumbotron-style section -->
      <div class="p-5 mb-4 bg-body-tertiary rounded-3">
        <h1 class="display-5 fw-bold">Une communauté grandissante</h1>
        <p class="col-md-8 fs-4">Rejoignez MyLoc et faites partie d'une communauté d'utilisateurs engagés dans une démarche de partage et de solidarité. Profitez d'un large choix de biens, d'un cadre sécurisé et d'une expérience utilisateur optimale.</p>
        <a href="{{ path('app_login')}}" class="btn btn-primary btn-lg" type="button">Rejoindre la communauté</a>
      </div>

      <!-- Additional content in cards -->
      <div class="row row-cols-1 row-cols-md-2 g-4">
        <div class="col">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Simplicité d'utilisation</h5>
              <p class="card-text">MyLoc a été conçue pour être intuitive. L'inscription est rapide, et en quelques étapes, vous pouvez commencer à prêter ou louer des biens.</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Sécurité et transparence</h5>
              <p class="card-text">Profitez de contrats standardisés, d'un système d'évaluation fiable et d'une assurance pour chaque transaction.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Call to action -->
      <div class="mt-5 p-5 bg-primary text-white rounded">
        <h2>Prêt à transformer votre façon de consommer ?</h2>
        <p>Rejoignez MyLoc dès aujourd'hui et découvrez une nouvelle façon de partager et d'accéder aux biens dont vous avez besoin.</p>
        <a href="{{ path('app_register')}}" class="btn btn-light">S'inscrire maintenant</a>
      </div>

</div> 

<div style="padding-bottom:20px;"></div>
{% endif %}
{% endblock %}
